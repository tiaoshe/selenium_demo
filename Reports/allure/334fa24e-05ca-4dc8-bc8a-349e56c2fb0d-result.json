{"name": "username-参数验证", "status": "failed", "statusDetails": {"message": "AssertionError: 实际结果： 用户名或密码错误 和预期结果： 用户名或密码错误啦不符 \nExpected: '用户名或密码错误啦'\n     but: was '用户名或密码错误'", "trace": "self = <src.test_case.shengmeijia.test_v1_account_login.TestV1AccountLogin object at 0x0000016960BB21A0>, username = {'ck-code': '500', 'ck-data': 'None', 'ck-message': '用户名或密码错误啦', 'ck-status': '200', ...}\n\n    @allure.story(\"登录功能验证\")\n    @allure.title(\"username-参数验证\")\n    @pytest.mark.parametrize(\"username\", data_dict['username'])\n    def test_v1_account_login_username(self, username):\n        kwargs = dict()\n        kwargs['headers'] = TestV1AccountLogin.headers\n        data = dict()\n        data['username'] = username['username']\n        data['password'] = username['password']\n        kwargs['json'] = data\n        kwargs['verify'] = False\n        response = TestV1AccountLogin.worker.v1_account_login(**kwargs)\n        # 检查数据正确性\n>       check_resout(response, assert_list, jsondat=username)\n\nsrc\\test_case\\shengmeijia\\test_v1_account_login.py:44: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nresponse = <Response [200]>\nassert_list = [{'assert': 'equals', 'check': 'status_code', 'expect': 200, 'msg': 'assert response status code'}, {'assert': 'equals...k': 'headers.Content-Type', 'expect': 'application/json; charset=UTF-8', 'msg': 'assert response header Content-Type'}]\nparams = None, jsondat = {'ck-code': '500', 'ck-data': 'None', 'ck-message': '用户名或密码错误啦', 'ck-status': '200', ...}\n\n    def check_resout(response, assert_list, params=None, jsondat=None):\n        print(params)\n        # 常规status_code 参数类型校验\n        if len(assert_list) > 0:\n            for check_item in assert_list:\n                if check_item['check'] == \"status_code\" and check_item['assert'] == \"equals\":\n                    assert_that(response.status_code, equal_to(check_item['expect']), check_item['msg'])\n                elif check_item['check'] == \"headers.Content-Type\" and check_item['assert'] == \"equals\":\n                    assert_that(response.headers['Content-Type'], equal_to(check_item['expect']), check_item['msg'])\n                else:\n                    return None\n        temp = None\n        # params 返回数据校验\n        if params:\n            temp = eval(response.text)\n            for key, value in params.items():\n                if key.startswith(\"ck\") and value != \"\":\n                    new_key = key.replace(\"ck-\", \"\")\n                    assert_that(temp.get(new_key), equal_to(value), \"实际结果： %s 和预期结果： %s不符 \" % (temp.get(new_key), value))\n        elif jsondat:\n            print(2)\n            temp = response.json()\n            for key, value in jsondat.items():\n                if key.startswith(\"ck\") and value != \"\":\n                    new_key = key.replace(\"ck-\", \"\")\n                    # if value.isdigit():\n                    #     value = int(value)\n>                   assert_that(str(temp.get(new_key)), equal_to(value), \"实际结果： %s 和预期结果： %s不符 \" % (temp.get(new_key), value))\nE                   AssertionError: 实际结果： 用户名或密码错误 和预期结果： 用户名或密码错误啦不符 \nE                   Expected: '用户名或密码错误啦'\nE                        but: was '用户名或密码错误'\n\ncommon\\F_check.py:31: AssertionError"}, "attachments": [{"name": "stdout", "source": "3955e4d7-aca2-4e25-9c76-cca95334d118-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "username", "value": "{'key': 'username', 'username': 'howell', 'password': '123456', 'ck-message': '用户名或密码错误啦', 'ck-code': '500', 'ck-status': '200', 'ck-data': 'None'}"}], "start": 1671136467247, "stop": 1671136467508, "uuid": "7728d2f3-ad1b-4167-a56c-bff0d5317562", "historyId": "2c572f9ac0b9df61a656bb6d11449c99", "testCaseId": "8f03e2f024baba1db7a3b6d2c0097ca3", "fullName": "src.test_case.shengmeijia.test_v1_account_login.TestV1AccountLogin#test_v1_account_login_username", "labels": [{"name": "story", "value": "登录功能验证"}, {"name": "feature", "value": "登录模块-B端登录接口"}, {"name": "parentSuite", "value": "src.test_case.shengmeijia"}, {"name": "suite", "value": "test_v1_account_login"}, {"name": "subSuite", "value": "TestV1AccountLogin"}, {"name": "host", "value": "howell-computer"}, {"name": "thread", "value": "58204-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "src.test_case.shengmeijia.test_v1_account_login"}]}